<div class="container-fluid">
  <div class="row">
      <app-header></app-header>
  </div>
  <div class="row">
      <div class="col-md-3">
          <category-menu></category-menu>
      </div>
  </div>
  <div class="row">
        <div class="col-md-10">
            <router-outlet></router-outlet>
        </div>
    </div>
</div>

<div class="container">
  <h1>Dodaj książkę</h1>
  <form #myForm="ngForm" novalidate>

    <div class="form-group">
      <label for="inputTitle">Tytuł:</label>
      <input type="text" class="form-control" name="inputTitle" placeholder="Tytuł" required #inputTitle="ngModel" [(ngModel)]="title"
        [class.has-error]="inputTitle.invalid && inputTitle.touched"
        pattern=".{3,}" required title="Wymagane minimum 3 znaki">
      <div *ngIf="inputTitle.invalid && inputTitle.touched" class="form-group">
        <span class="text-danger">Tytuł jest wymagany</span>
      </div>
    </div>

    <div class="form-group">
      <label for="inputAuthor">Autor:</label>
      <input type="text" class="form-control" name="inputAuthor" placeholder="Autor" required #inputAuthor="ngModel" [(ngModel)]="author"
        [class.has-error]="inputAuthor.invalid && inputAuthor.touched">
      <div *ngIf="inputAuthor.invalid && inputAuthor.touched" class="form-group">
        <span class="text-danger">Autor jest wymagany</span>
      </div>
    </div>

    <div class="form-group">
      <label for="inputISBN">ISBN:</label>
      <input type="text" class="form-control" name="inputISBN" placeholder="ISBN" required #inputISBN="ngModel" [(ngModel)]="isbn"
        [class.has-error]="inputISBN.invalid && inputISBN.touched"
        pattern=".{10,10}|.{13,13}">
      <div *ngIf="inputISBN.invalid && inputISBN.touched" class="form-group">
        <span class="text-danger">Numer ISBN jest wymagany</span>
      </div>
    </div>

    <div class="form-group">
      <label for="inputPublisher">Wydawca:</label>
      <input type="text" class="form-control" name="inputPublisher" placeholder="Wydawca" required #inputPublisher="ngModel" [(ngModel)]="publisher"
        [class.has-error]="inputPublisher.invalid && inputPublisher.touched">
      <div *ngIf="inputPublisher.invalid && inputPublisher.touched" class="form-group">
        <span class="text-danger">Wydawca jest wymagany</span>
      </div>
    </div>
    
    <div class="form-group">
      <label for="inputQuantity">Ilość egzemplarzy:</label>
      <input type="text" class="form-control" name="inputQuantity" placeholder="Ilość egzemplarzy" required #inputQuantity="ngModel"
        [(ngModel)]="quantity" [class.has-error]="inputQuantity.invalid && inputQuantity.touched">
      <div *ngIf="inputQuantity.invalid && inputQuantity.touched" class="form-group">
        <span class="text-danger">Ilość książek jest wymagana</span>
      </div>
    </div>

    <label for="inputTableOfContents">Spis treści:</label>  <br/>    
    <div *ngFor="let item of tableOfContents; let i=index" class="form-group" >
      <input type="text" class="form-control" name="inputTableOfContents" placeholder="Spis treści" required #inputTableOfContents="ngModel"
        [(ngModel)]="tableOfContents[i]" [class.has-error]="inputTableOfContents.invalid && inputTableOfContents.touched" style="width: 70%; display:inline"> 
        <button class="btn btn-primary" (click)="addChapterFunction()">+</button>
      <div *ngIf="inputTableOfContents.invalid && inputTableOfContents.touched" class="form-group">
        <span class="text-danger">Spis treści jest wymagany</span>
      </div>
    </div>

    <div class="form-group">
      <label for="inputDesc">Opis:</label>
      <textarea class="form-control" rows="3" name="inputDesc" placeholder="Opis" required #inputDesc="ngModel" [(ngModel)]="description"
        [class.has-error]="inputDesc.invalid && inputDesc.touched"></textarea>
      <div *ngIf="inputDesc.invalid && inputDesc.touched" class="form-group">
        <span class="text-danger">Opis jest wymagany</span>
      </div>
    </div>

    <div class="form-group">
      <label for="inputTags">Tagi:</label>
      <input type="text" class="form-control" name="inputTags" placeholder="Tagi" required #inputTags="ngModel" [(ngModel)]="tags"
        [class.has-error]="inputTags.invalid && inputTags.touched">
      <div *ngIf="inputTags.invalid && inputTags.touched" class="form-group">
        <span class="text-danger">Tagi są wymagane</span>
      </div>
    </div>
    <div class="form-group">
      <button [disabled]="(myForm.invalid && myForm.touched) || myForm.pristine" type="submit" class="btn btn-primary">Dodaj</button>
    </div>
  </form>
</div>